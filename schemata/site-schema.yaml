# Author: Erik Quaeghebeur
# Date: 2018-11-27

# HEADER
$schema: "http://json-schema.org/draft-07/schema#"
  # NOTE: consult the above-referenced site for the schema language definition
$id: "http://example.org/site-schema.yaml"
  # TODO: the domain of $id must be corrected
title: Wind farm site description
type: object
required:
  - uuid
  - radius
  -
additionalProperties: false

# PROPERTIES
properties:
  #~
  uuid:
    title: Universally unique identifier (UUID)
    description: >-
      The UUID should follow RFC 4122.
      It is meant to distinguish different site descriptions.
      This is especially relevant for different versions and variants of the
      same site.
    type: string
    pattern: ^[0-9a-f]{8}(-[0-9a-f]{4}){3}-[0-9a-f]{12}$
  #~
  name:
    description: The name of the wind farm site
    type: string
  #~
  radius:
    title: Site radius
    description:
      This is the radius of the smallest disc covering the site.
      It is used to make all site distances adimensional and give a
      single-value indication of its size.
    type: number
    unit: km
  #~
  location:
    title: Site location
    description: >-
      The geographical location of the center of the smallest covering disc
    $ref: "#/definitions/location"

# DEFINITIONS
definitions:
  # NOTE: Any of these definitions can be externalized (to a file) for
  # convenient reuse
  #~
  location:
    title: Longitude and Latitude
    description: A geographical coordinate on a planet (most commonly Earth).
    required:
      - latitude
      - longitude
    type: object
    properties:
      name:
        description: The name of the location
        type: string
      latitude:
        type: number
        minimum: -90
        maximum: 90
      longitude:
        type: number
        exclusiveMinimum: -180
        maximum: 180
    additionalProperties: false
